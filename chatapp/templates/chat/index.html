<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8" />
        <title>Chatify</title>
        <meta name = "viewport" content="width=device-width, initial-scale = 1.0" />
        <base href="/">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" type="application/javascript" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" type="application/javascript" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
    </head>

    <body>
      <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Chatify</a>
            <ul class="navbar-nav">
              <li class="nav-item" style="float: right;"><a class="nav-link" href="/login" >LOGIN</a></li>
              <li class="nav-item" style="float: right;"><a class="nav-link" href="/register" >REGISTER</a></li>
            </ul>
        </div>
      </nav>
        <section class="section">
            <div class = "container">
                <div class="columns is-muultiline">
                    <div class="column is-6 is-offset-3 mb-6">
                        <section class="hero is-dark">
                          <div class="hero-body">
                            <p class="title">Chatify</p>
                            <p class="subtitle">A chat app</p>
                          </div>
                        </section>
                    </div>
                </div>
            </div>
            <div class="column is-4 is-offset-4">
                <div class="field">
                  <label>Room name</label>
    
                  <div class="control">
                    <input class="input" type="text" placeholder="Room name" id="room-name-input" autofocus>
                  </div>
                </div>
    
                <div class="field">
                  <label>Username</label>
    
                  <div class="control">
                    <input class="input" type="text" placeholder="Username" id="username-input">
                  </div>
                </div>
    
                <div class="field">
                  <div class="control">
                    <a class="button is-info" id="room-name-submit">Submit</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <script>
            document.querySelector('#room-name-input').onkeyup = function(e){
                if(e.keyCode === 13){
                    document.querySelector("#room-name-submit").click();
                }
            }

            document.querySelector("#room-name-submit").onclick = function(e){
                var roomname = document.querySelector("#room-name-input").value;
                var username = document.querySelector("#username-input").value;
                console.log("done")
                window.location.replace(roomname+'/?username='+username);
            }
        </script>
    </body>
</html>